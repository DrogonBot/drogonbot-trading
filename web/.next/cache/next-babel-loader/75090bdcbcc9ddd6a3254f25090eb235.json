{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Router from 'next/router';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport { ProvinceSelector } from '../components/elements/form/ProvinceSelector';\nimport { Header } from '../components/pages/index/Header';\nimport { Logo } from '../components/pages/index/Logo';\nimport { NextSEOIndex } from '../components/seo/NextSEOIndex';\nimport { appEnv } from '../constants/Env.constant';\nimport { colors } from '../constants/UI/Colors.constant';\nimport { UI } from '../constants/UI/UI.constant';\nimport { TS } from '../helpers/LanguageHelper';\nimport { loadCountryProvinces } from '../store/actions/form.actions';\nimport { postClearAll } from '../store/actions/post.action';\nimport { setSearchKey } from '../store/actions/ui.action';\n\nconst Home = props => {\n  const {\n    0: hookSearchField,\n    1: hookSetSearchField\n  } = useState(\"\");\n  const {\n    searchProvince\n  } = useSelector(state => state.uiReducer);\n  const dispatch = useDispatch();\n\n  const onSubmit = async e => {\n    console.log(\"Submitting search\");\n    e.preventDefault(); // validate and set our keyword to the state\n\n    await dispatch(setSearchKey(\"searchKeyword\", hookSearchField));\n    await dispatch(postClearAll()); // clear post state, if present.\n\n    Router.push({\n      pathname: \"/posts\",\n      query: {\n        searchProvince,\n        searchKeyword: hookSearchField\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(NextSEOIndex, null), __jsx(Header, null), __jsx(MainContainer, null, __jsx(Logo, null), __jsx(Form, {\n    id: \"search-form\",\n    onSubmit: onSubmit\n  }, __jsx(SearchBarContainer, null, __jsx(ProvinceSelector, {\n    provinces: props.provinces\n  }), __jsx(SearchInput, {\n    type: \"text\",\n    placeholder: TS.string(\"form\", \"indexSearchInput\"),\n    name: \"q\",\n    value: hookSearchField,\n    onChange: e => {\n      hookSetSearchField(e.target.value);\n    }\n  })), __jsx(BlueSearchButton, {\n    type: \"submit\",\n    form: \"search-form\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faSearch\n  })), __jsx(CTAButtonsContainer, null, __jsx(SearchLargeDeviceButton, {\n    type: \"submit\",\n    form: \"search-form\"\n  }, TS.string(\"landing\", \"searchButton\"))))));\n};\n\nexport default Home;\n\nHome.getInitialProps = async ctx => {\n  await ctx.store.dispatch(loadCountryProvinces(appEnv.appCountry));\n  const provinces = ctx.store.getState().formReducer.states;\n  return {\n    provinces\n  };\n};\n\nconst MainContainer = styled.main.withConfig({\n  displayName: \"pages__MainContainer\",\n  componentId: \"sc-107eczz-0\"\n})([\"margin-top:75px;i{color:white;}@media screen and (min-width:750px){margin-top:150px;}\"]);\nconst SearchBarContainer = styled.div.withConfig({\n  displayName: \"pages__SearchBarContainer\",\n  componentId: \"sc-107eczz-1\"\n})([\"display:flex;flex-wrap:wrap;flex-direction:row;position:relative;flex:10;.MuiInput-root{position:absolute;top:0;left:21px;height:100%;}\"]);\nconst Form = styled.form.withConfig({\n  displayName: \"pages__Form\",\n  componentId: \"sc-107eczz-2\"\n})([\"width:95%;max-width:550px;display:flex;margin:15px auto;position:relative;button,input{outline:none;}\"]);\nconst SearchInput = styled.input.withConfig({\n  displayName: \"pages__SearchInput\",\n  componentId: \"sc-107eczz-3\"\n})([\"flex-grow:1;border:1px solid #d9d9d9;padding:0.7em;flex:8;padding-left:6rem;@media screen and (max-width:\", \"px){border-top-left-radius:24px;border-bottom-left-radius:24px;}@media screen and (min-width:\", \"px){border-radius:24px;}\"], UI.mediumLayoutBreak, UI.mediumLayoutBreak);\nconst BlueSearchButton = styled.button.withConfig({\n  displayName: \"pages__BlueSearchButton\",\n  componentId: \"sc-107eczz-4\"\n})([\"margin-left:-5px;border-radius:0 3px 3px 0;background-color:\", \";border:1px solid \", \";padding:0.7em;z-index:1;@media screen and (min-width:\", \"px){display:none;}svg{color:white;}\"], colors.primary, colors.primaryDark, UI.mediumLayoutBreak);\nconst CTAButtonsContainer = styled.div.withConfig({\n  displayName: \"pages__CTAButtonsContainer\",\n  componentId: \"sc-107eczz-5\"\n})([\"@media screen and (max-width:749px){display:none;}@media screen and (min-width:750px){font-family:arial,sans-serif;position:absolute;top:70px;width:260px;left:0;right:0;margin:0 auto;font-size:medium;justify-content:center;display:flex;button{color:#757575;background-color:#f2f2f2;height:36px;font-size:0.8em;font-weight:bold;border:1px solid #f2f2f2;border-radius:2px;}}\"]);\nconst SearchLargeDeviceButton = styled.button.withConfig({\n  displayName: \"pages__SearchLargeDeviceButton\",\n  componentId: \"sc-107eczz-6\"\n})([\"@media screen and (min-width:750px){margin-right:0.5em;}\"]);","map":null,"metadata":{},"sourceType":"module"}